<article
  [class]="{
    'status-open': task().status === 'OPEN',
    'status-in-progress': task().status === 'IN_PROGRESS',
    'status-done': task().status === 'DONE'
  }"
>
  <header>
    <div class="container">
  <div class="d-flex align-items-center w-100">
    <div class="d-flex align-items-center gap-2">
      <h4 class='mb-0'>{{ task().title }}</h4>
<span class="status-badge" (click)="updateTask()">{{ taskStatus() }}</span>
  </div>
    <div class="ms-auto text-end">
    @if(task().completedOn != undefined ){
    <span style="font-style: italic;font-size: x-small;">{{ task().completedOn | date: 'medium' }}  </span>
    }
    @if(task().completedOn == undefined ){
    <span style="font-style: italic;font-size: x-small;">
      @if(task().createdOn != undefined && task().updatedOn == undefined) {
        {{ task().createdOn | date: 'medium' }}
      }
      @if(task().updatedOn != undefined) {
        {{ task().updatedOn | date: 'medium' }}
      }
    </span> 
  }
</div>
    </div>
    </div>
    
    
  </header>
  <p>{{ task().description }}</p>
  <form (ngSubmit)="onChangeTaskStatus(task().id, status.value)">
    <select name="status" #status>
      <option value="open" [selected]="task().status === 'OPEN'">Open</option>
      <option value="in-progress" [selected]="task().status === 'IN_PROGRESS'">
        In-Progress
      </option>
      <option value="done" [selected]="task().status === 'DONE'">
        Completed
      </option>
    </select>
    <p>
      <button (click)="onChangeTaskStatus(task().id, status.value)">Change Status</button>
    </p>
    <p>
      <button class="remove" (click)="onRemoveTaskClick(task().id)">Remove</button>
    </p>
  </form>
</article>
